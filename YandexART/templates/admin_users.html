{% extends "base.html" %}

{% block title %}–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}

{% block extra_styles %}
.users-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

.users-table th,
.users-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.users-table th {
    background: var(--bg-secondary);
    font-weight: bold;
}

.users-table tr:hover {
    background: var(--bg-secondary);
}

.back-link {
    color: var(--accent-color);
    text-decoration: none;
    display: inline-block;
    margin-bottom: 20px;
}

.back-link:hover {
    text-decoration: underline;
}

.user-stats {
    display: flex;
    gap: 20px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.stat-item {
    background: var(--bg-secondary);
    padding: 10px 15px;
    border-radius: 5px;
    border: 1px solid var(--border-color);
}
{% endblock %}

{% block content %}
<a href="{{ url_for('admin_panel') }}" class="back-link">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</a>

<div class="header">
    <h2>üë• –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
    <div class="header-actions">
        <a href="{{ url_for('admin_panel') }}" class="btn btn-primary">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        <a href="{{ url_for('logout') }}" class="btn btn-danger">üö™ –í—ã–π—Ç–∏</a>
    </div>
</div>

<div class="user-stats">
    <div class="stat-item">
        <strong>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</strong> {{ users|length }}
    </div>
</div>

{% if users %}
    <table class="users-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–õ–æ–≥–∏–Ω</th>
                <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Ç–æ–≤</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.registered_at.strftime('%d.%m.%Y %H:%M') }}</td>
                    <td>{{ user.chats|length }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="card">
        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
    </div>
{% endif %}
{% endblock %} 